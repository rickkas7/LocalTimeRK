<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LocalTimeRK: LocalTimeScheduleManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LocalTimeRK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">LocalTimeScheduleManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for managing multiple named schedules.  
 <a href="class_local_time_schedule_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_local_time_r_k_8h_source.html">LocalTimeRK.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6573212c783dfd7d37fb0a49ca1e0169"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#a6573212c783dfd7d37fb0a49ca1e0169">getNextTimeByName</a> (const char *name, const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;conv)</td></tr>
<tr class="memdesc:a6573212c783dfd7d37fb0a49ca1e0169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next scheduled time of the schedule with name "name".  <a href="class_local_time_schedule_manager.html#a6573212c783dfd7d37fb0a49ca1e0169">More...</a><br /></td></tr>
<tr class="separator:a6573212c783dfd7d37fb0a49ca1e0169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc65cd5565fa1400d7f72f4957aef47"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#a3dc65cd5565fa1400d7f72f4957aef47">getNextWake</a> (const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;conv) const</td></tr>
<tr class="memdesc:a3dc65cd5565fa1400d7f72f4957aef47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the wake of any type (quick or full)  <a href="class_local_time_schedule_manager.html#a3dc65cd5565fa1400d7f72f4957aef47">More...</a><br /></td></tr>
<tr class="separator:a3dc65cd5565fa1400d7f72f4957aef47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66486ef8a6aeaa89f68edc9d09b3d1c"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#ad66486ef8a6aeaa89f68edc9d09b3d1c">getNextFullWake</a> (const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;conv) const</td></tr>
<tr class="memdesc:ad66486ef8a6aeaa89f68edc9d09b3d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the full wake, typically with a publish.  <a href="class_local_time_schedule_manager.html#ad66486ef8a6aeaa89f68edc9d09b3d1c">More...</a><br /></td></tr>
<tr class="separator:ad66486ef8a6aeaa89f68edc9d09b3d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0796546b7573aa3634f45dbc31bd13"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#a5b0796546b7573aa3634f45dbc31bd13">getNextDataCapture</a> (const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;conv) const</td></tr>
<tr class="memdesc:a5b0796546b7573aa3634f45dbc31bd13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next scheduled data capture. Data capture schedules are a special class of quick wake that also runs while powered on.  <a href="class_local_time_schedule_manager.html#a5b0796546b7573aa3634f45dbc31bd13">More...</a><br /></td></tr>
<tr class="separator:a5b0796546b7573aa3634f45dbc31bd13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03508e75a8e62ad0eb3294fe9167549c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#a03508e75a8e62ad0eb3294fe9167549c">forEach</a> (std::function&lt; void(<a class="el" href="class_local_time_schedule.html">LocalTimeSchedule</a> &amp;schedule)&gt; callback)</td></tr>
<tr class="memdesc:a03508e75a8e62ad0eb3294fe9167549c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call a function or lambda for each schedule.  <a href="class_local_time_schedule_manager.html#a03508e75a8e62ad0eb3294fe9167549c">More...</a><br /></td></tr>
<tr class="separator:a03508e75a8e62ad0eb3294fe9167549c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596b5c910260f9a6f44c264c5fec17f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_local_time_schedule.html">LocalTimeSchedule</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#a596b5c910260f9a6f44c264c5fec17f1">getScheduleByName</a> (const char *name)</td></tr>
<tr class="memdesc:a596b5c910260f9a6f44c264c5fec17f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a <a class="el" href="class_local_time_schedule.html" title="A complete time schedule.">LocalTimeSchedule</a> reference by name and creates it if it does not exist.  <a href="class_local_time_schedule_manager.html#a596b5c910260f9a6f44c264c5fec17f1">More...</a><br /></td></tr>
<tr class="separator:a596b5c910260f9a6f44c264c5fec17f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b773763976c11c40b4e194b7365be3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_local_time_schedule_manager.html#ab6b773763976c11c40b4e194b7365be3">setFromJsonObject</a> (const JSONValue &amp;obj)</td></tr>
<tr class="memdesc:ab6b773763976c11c40b4e194b7365be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the schedules from a JSON object.  <a href="class_local_time_schedule_manager.html#ab6b773763976c11c40b4e194b7365be3">More...</a><br /></td></tr>
<tr class="separator:ab6b773763976c11c40b4e194b7365be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:af97ed17e3c8c4259f9840830eba3b695"><td class="memItemLeft" align="right" valign="top"><a id="af97ed17e3c8c4259f9840830eba3b695" name="af97ed17e3c8c4259f9840830eba3b695"></a>
std::vector&lt; <a class="el" href="class_local_time_schedule.html">LocalTimeSchedule</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>schedules</b></td></tr>
<tr class="memdesc:af97ed17e3c8c4259f9840830eba3b695"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of all of the schedules. Names and flags are in the schedule object. <br /></td></tr>
<tr class="separator:af97ed17e3c8c4259f9840830eba3b695"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class for managing multiple named schedules. </p>
<p >This is used for the quick and full wake schedules, but can be extended for other uses. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a03508e75a8e62ad0eb3294fe9167549c" name="a03508e75a8e62ad0eb3294fe9167549c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03508e75a8e62ad0eb3294fe9167549c">&#9670;&nbsp;</a></span>forEach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalTimeScheduleManager::forEach </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void(<a class="el" href="class_local_time_schedule.html">LocalTimeSchedule</a> &amp;schedule)&gt;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call a function or lambda for each schedule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Function or lambda to call.</td></tr>
  </table>
  </dd>
</dl>
<p>The callback has this prototype:</p>
<p >void callback(LocalTimeSchedule &amp;schedule) </p>

</div>
</div>
<a id="a5b0796546b7573aa3634f45dbc31bd13" name="a5b0796546b7573aa3634f45dbc31bd13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b0796546b7573aa3634f45dbc31bd13">&#9670;&nbsp;</a></span>getNextDataCapture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t LocalTimeScheduleManager::getNextDataCapture </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;&#160;</td>
          <td class="paramname"><em>conv</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next scheduled data capture. Data capture schedules are a special class of quick wake that also runs while powered on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conv</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>time_t </dd></dl>

</div>
</div>
<a id="ad66486ef8a6aeaa89f68edc9d09b3d1c" name="ad66486ef8a6aeaa89f68edc9d09b3d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66486ef8a6aeaa89f68edc9d09b3d1c">&#9670;&nbsp;</a></span>getNextFullWake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t LocalTimeScheduleManager::getNextFullWake </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;&#160;</td>
          <td class="paramname"><em>conv</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the full wake, typically with a publish. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conv</td><td>The <a class="el" href="class_local_time_convert.html" title="Perform time conversions. This is the main class you will need.">LocalTimeConvert</a> that contains the timezone information to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>time_t Time of 0 if there is no schedule </dd></dl>

</div>
</div>
<a id="a6573212c783dfd7d37fb0a49ca1e0169" name="a6573212c783dfd7d37fb0a49ca1e0169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6573212c783dfd7d37fb0a49ca1e0169">&#9670;&nbsp;</a></span>getNextTimeByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t LocalTimeScheduleManager::getNextTimeByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;&#160;</td>
          <td class="paramname"><em>conv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next scheduled time of the schedule with name "name". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name to look for (c string) </td></tr>
    <tr><td class="paramname">conv</td><td>The <a class="el" href="class_local_time_convert.html" title="Perform time conversions. This is the main class you will need.">LocalTimeConvert</a> that contains the timezone information to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>time_t Time of 0 if there is no schedule with that name </dd></dl>

</div>
</div>
<a id="a3dc65cd5565fa1400d7f72f4957aef47" name="a3dc65cd5565fa1400d7f72f4957aef47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc65cd5565fa1400d7f72f4957aef47">&#9670;&nbsp;</a></span>getNextWake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t LocalTimeScheduleManager::getNextWake </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_local_time_convert.html">LocalTimeConvert</a> &amp;&#160;</td>
          <td class="paramname"><em>conv</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the wake of any type (quick or full) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conv</td><td>The <a class="el" href="class_local_time_convert.html" title="Perform time conversions. This is the main class you will need.">LocalTimeConvert</a> that contains the timezone information to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>time_t Time of 0 if there is no schedule </dd></dl>

</div>
</div>
<a id="a596b5c910260f9a6f44c264c5fec17f1" name="a596b5c910260f9a6f44c264c5fec17f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596b5c910260f9a6f44c264c5fec17f1">&#9670;&nbsp;</a></span>getScheduleByName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_local_time_schedule.html">LocalTimeSchedule</a> &amp; LocalTimeScheduleManager::getScheduleByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a <a class="el" href="class_local_time_schedule.html" title="A complete time schedule.">LocalTimeSchedule</a> reference by name and creates it if it does not exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name to get or create </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_local_time_schedule.html" title="A complete time schedule.">LocalTimeSchedule</a>&amp; Reference to the schedule </dd></dl>

</div>
</div>
<a id="ab6b773763976c11c40b4e194b7365be3" name="ab6b773763976c11c40b4e194b7365be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6b773763976c11c40b4e194b7365be3">&#9670;&nbsp;</a></span>setFromJsonObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalTimeScheduleManager::setFromJsonObject </td>
          <td>(</td>
          <td class="paramtype">const JSONValue &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the schedules from a JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Only the keys in obj that already exist as named schedules are processed! This allows a single object to contain both schedules and other settings. Plus, in order for a named schedule to be useful you probably need to have code to handle it, and this eliminates the need to pass the schedule flags in the JSON, since they should be constant depending on how the schedule is being used in the code, not by the schedule settings. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_local_time_r_k_8h_source.html">LocalTimeRK.h</a></li>
<li>src/LocalTimeRK.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
